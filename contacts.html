<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>جهات الاتصال</title>
    <link rel="stylesheet" href="style.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    />
  </head>

  <body>
    <div class="wd-container">
      <!-- القسم الأول: القائمة الجانبية -->
      <aside class="wd-sidebar">
        <div class="wd-logo">
          <img src="imgs/logo.png" alt="شعار المنصة" />
        </div>
        <nav class="wd-nav">
          <ul>
            <li class="wd-nav-item">
              <i class="fa-solid fa-gauge"></i>
              <span
                ><a href="index.html" class="wd-nav-link">لوحة التحكم</a></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fa-solid fa-comments"></i>
              <span><a href="chat.html" class="wd-nav-link">المحادثات</a></span>
            </li>
            <li class="wd-nav-item active">
              <i class="fa-solid fa-users"></i>
              <span
                ><a href="contacts.html" class="wd-nav-link"
                  >جهات الاتصال</a
                ></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fa-solid fa-diagram-project"></i>
              <span><a href="flows.html" class="wd-nav-link">التدفقات</a></span>
            </li>
            <li class="wd-nav-item">
              <i class="fas fa-bullhorn"></i>
              <span
                ><a href="campaigns.html" class="wd-nav-link">الحملات</a></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fas fa-calendar"></i>
              <span
                ><a href="calendar.html" class="wd-nav-link">التقويم</a></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fas fa-file-alt"></i>
              <span
                ><a href="contents.html" class="wd-nav-link">المحتويات</a></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fas fa-code"></i>
              <span
                ><a href="developers.html" class="wd-nav-link"
                  >المطورين</a
                ></span
              >
            </li>
            <li class="wd-nav-item">
              <i class="fas fa-cog"></i>
              <span
                ><a href="settings.html" class="wd-nav-link">الإعدادات</a></span
              >
            </li>
          </ul>
        </nav>
      </aside>

      <!-- القسم الثاني: القائمة الجانبية الثانية -->
      <div class="wd-secondary-sidebar">
        <div class="wd-account-switcher">
          <div class="wd-account-info">
            <img
              src="imgs/logo.png"
              alt="صورة الحساب"
              class="wd-account-avatar"
            />
            <div class="wd-account-details">
              <span class="wd-account-name">حساب الشركة</span>
              <span class="wd-account-type">مدير</span>
            </div>
          </div>
          <button class="wd-account-switch">
            <i class="fas fa-exchange-alt"></i>
          </button>
        </div>
        <div class="wd-secondary-content">
          <nav class="wd-secondary-nav">
            <ul>
              <a href="contacts.html" class="wd-nav-link">
                <li class="wd-secondary-nav-item active">
                  <i class="fas fa-users"></i>
                  <span>جميع جهات الاتصال</span>
                </li>
              </a>
              <a href="contacts/groups.html" class="wd-nav-link">
                <li class="wd-secondary-nav-item">
                  <i class="fas fa-layer-group"></i>
                  <span>المجموعات</span>
                </li>
              </a>
            </ul>

            <div class="wd-nav-section">
              <h4 class="wd-nav-section-title">مشار إليه بواسطة</h4>
              <ul>
                <li class="wd-secondary-nav-item">
                  <span
                    class="wd-tag-color"
                    style="background-color: #ff6b6b"
                  ></span>
                  <span>باقة الأعمال</span>
                </li>
                <li class="wd-secondary-nav-item">
                  <span
                    class="wd-tag-color"
                    style="background-color: #4ecdc4"
                  ></span>
                  <span>باقة الأعمال برو</span>
                </li>
                <li class="wd-secondary-nav-item">
                  <span
                    class="wd-tag-color"
                    style="background-color: #45b7d1"
                  ></span>
                  <span>الباقة الاحترافية</span>
                </li>
              </ul>
              <a class="wd-add-team-btn" href="/add/new-tag.html">
                <i class="fas fa-plus"></i>
                <span>إضافة وسم</span>
              </a>
            </div>
          </nav>
        </div>
      </div>

      <!-- القسم الثالث: المحتوى الرئيسي -->
      <main class="wd-main-content">
        <div class="wd-content-header">
          <div class="wd-header-left">
            <button
              class="wd-toggle-secondary"
              onclick="toggleSecondarySidebar()"
            >
              <i class="fas fa-bars"></i>
            </button>
            <h1>جهات الاتصال</h1>
          </div>
          <div class="wd-header-actions">
            <!-- صندوق البحث المباشر -->
            <div class="wd-search-box-inline">
              <i class="fas fa-search"></i>
              <input
                type="text"
                id="searchInput"
                placeholder="البحث بالاسم، رقم الهاتف أو البريد الإلكتروني..."
                oninput="performSearch()"
              />
              <button
                class="wd-clear-search"
                id="clearSearchBtn"
                onclick="clearSearch()"
                style="display: none"
              >
                <i class="fas fa-times"></i>
              </button>
            </div>

            <button
              class="wd-btn"
              onclick="window.location.href='add/new-contact.html'"
            >
              <i class="fas fa-plus"></i>
              جهة اتصال جديدة
            </button>
            <button class="wd-btn wd-btn-secondary" onclick="openFilterModal()">
              <i class="fas fa-filter"></i>
              فلترة
            </button>
            <button class="wd-btn wd-btn-secondary">
              <i class="fas fa-file-export"></i>
              تصدير
            </button>
            <button
              class="wd-btn"
              onclick="window.location.href='import/contacts-import.html'"
            >
              <i class="fas fa-file-import"></i>
              استيراد
            </button>
          </div>
        </div>

        <div class="wd-content-body" style="margin: 0">
          <div class="wd-contacts-table">
            <div class="wd-table-header">
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">الاسم</div>
                <div class="wd-table-cell">رقم الهاتف</div>
                <div class="wd-table-cell">البريد الإلكتروني</div>
                <div class="wd-table-cell">المجموعة</div>
                <div class="wd-table-cell">الحالة</div>
                <div class="wd-table-cell">الإجراءات</div>
              </div>
            </div>
            <div class="wd-table-body">
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">أ م</div>
                    <span>أحمد محمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966501234567</div>
                <div class="wd-table-cell">ahmed@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">س أ</div>
                    <span>سارة أحمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966502345678</div>
                <div class="wd-table-cell">sara@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">م ع</div>
                    <span>محمد علي</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966503456789</div>
                <div class="wd-table-cell">mohamed@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ف خ</div>
                    <span>فاطمة خالد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966504567890</div>
                <div class="wd-table-cell">fatima@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">خ س</div>
                    <span>خالد سعيد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966505678901</div>
                <div class="wd-table-cell">khaled@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ن ع</div>
                    <span>نورا عبدالله</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966506789012</div>
                <div class="wd-table-cell">nora@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ع س</div>
                    <span>عبدالرحمن سعود</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966507890123</div>
                <div class="wd-table-cell">abdulrahman@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ل ف</div>
                    <span>لمى فيصل</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966508901234</div>
                <div class="wd-table-cell">lama@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ف ن</div>
                    <span>فيصل ناصر</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966509012345</div>
                <div class="wd-table-cell">faisal@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ه م</div>
                    <span>هند محمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966510123456</div>
                <div class="wd-table-cell">hind@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">س ع</div>
                    <span>سعود عبدالعزيز</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966511234567</div>
                <div class="wd-table-cell">saud@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ن س</div>
                    <span>نورة سعد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966512345678</div>
                <div class="wd-table-cell">noura@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ت أ</div>
                    <span>تركي أحمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966513456789</div>
                <div class="wd-table-cell">turki@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ر ع</div>
                    <span>ريم عبدالله</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966514567890</div>
                <div class="wd-table-cell">reem@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ب م</div>
                    <span>بدر محمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966515678901</div>
                <div class="wd-table-cell">badr@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ج خ</div>
                    <span>جواهر خالد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966516789012</div>
                <div class="wd-table-cell">jawaher@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">س ع</div>
                    <span>سعد عبدالرحمن</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966517890123</div>
                <div class="wd-table-cell">saad@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">م ف</div>
                    <span>منى فيصل</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966518901234</div>
                <div class="wd-table-cell">mona@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #45b7d1"
                    >الموظفون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ع ع</div>
                    <span>عبدالله سعود</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966519012345</div>
                <div class="wd-table-cell">abdullah@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #ff6b6b"
                    >العملاء</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status inactive"> مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
              <div class="wd-table-row">
                <div class="wd-table-cell">
                  <input type="checkbox" />
                </div>
                <div class="wd-table-cell">
                  <div class="wd-contact-info">
                    <div class="wd-contact-avatar">ه م</div>
                    <span>هناء محمد</span>
                  </div>
                </div>
                <div class="wd-table-cell">+966520123456</div>
                <div class="wd-table-cell">hana@example.com</div>
                <div class="wd-table-cell">
                  <span class="wd-tag" style="background-color: #4ecdc4"
                    >الموردون</span
                  >
                </div>
                <div class="wd-table-cell">
                  <span class="wd-status active">مشترك</span>
                </div>
                <div class="wd-table-cell">
                  <div class="wd-actions">
                    <button class="wd-action-btn start-conversation">
                      <i class="fas fa-comments"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-edit"></i>
                    </button>
                    <button class="wd-action-btn">
                      <i class="fas fa-trash"></i>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <div class="wd-pagination">
            <button class="wd-pagination-btn" onclick="prevPage()">
              <i class="fas fa-chevron-right"></i>
            </button>
            <span class="wd-page-info">
              الصفحة <span id="currentPage">1</span> من
              <span id="totalPages">4</span>
            </span>
            <button class="wd-pagination-btn" onclick="nextPage()">
              <i class="fas fa-chevron-left"></i>
            </button>
          </div>
        </div>
      </main>
    </div>

    <!-- نافذة الفلترة المنبثقة -->
    <div class="wd-filter-modal" id="filterModal">
      <div class="wd-modal-content">
        <div class="wd-modal-header">
          <h3>فلترة جهات الاتصال</h3>
          <button class="wd-modal-close" onclick="closeFilterModal()">
            <i class="fas fa-times"></i>
          </button>
        </div>
        <div class="wd-modal-body">
          <div class="wd-filter-rules" id="filterRules">
            <div class="wd-filter-rule-container">
              <div class="wd-filter-rule">
                <div class="wd-filter-field">
                  <label>الحقل</label>
                  <select>
                    <option value="name">الاسم</option>
                    <option value="phone">رقم الهاتف</option>
                    <option value="email">البريد الإلكتروني</option>
                    <option value="group">المجموعة</option>
                    <option value="status">حالة الاشتراك</option>
                  </select>
                </div>
                <div class="wd-filter-operator">
                  <label>المشغل</label>
                  <select>
                    <option value="equals">يساوي</option>
                    <option value="not_equals">لا يساوي</option>
                    <option value="contains">يحتوي على</option>
                    <option value="not_contains">لا يحتوي على</option>
                    <option value="starts_with">يبدأ بـ</option>
                    <option value="ends_with">ينتهي بـ</option>
                  </select>
                </div>
                <div class="wd-filter-value">
                  <label>القيمة</label>
                  <input type="text" placeholder="أدخل القيمة..." />
                </div>
                <div class="wd-filter-actions">
                  <button
                    class="wd-btn-icon"
                    onclick="removeFilterRule(this)"
                    title="حذف القاعدة"
                  >
                    <i class="fas fa-trash"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>
          <button class="wd-btn wd-add-rule-btn" onclick="addFilterRule()">
            <i class="fas fa-plus"></i>
            إضافة قاعدة جديدة
          </button>
        </div>
        <div class="wd-modal-footer">
          <button class="wd-btn" onclick="closeFilterModal()">إلغاء</button>
          <button class="wd-btn wd-btn-primary" onclick="applyFilter()">
            تطبيق الفلتر
          </button>
          <button class="wd-btn" onclick="clearFilter()">مسح الفلتر</button>
        </div>
      </div>
    </div>

    <!-- عرض النتائج المفلترة -->
    <div class="wd-filter-status" id="filterStatus" style="display: none">
      <div class="wd-filter-status-content">
        <span id="filterResultsText">عرض جميع النتائج</span>
        <button
          class="wd-btn-icon"
          onclick="clearAllFilters()"
          title="مسح جميع الفلاتر"
        >
          <i class="fas fa-times"></i>
        </button>
      </div>
    </div>

    <div class="wd-profile-floating">
      <button class="wd-profile-floating-btn" id="profileFloatingBtn">
        <i class="fas fa-user"></i>
      </button>
      <div class="wd-profile-floating-menu" id="profileFloatingMenu">
        <div class="wd-profile-floating-header">
          <img
            src="imgs/logo.png"
            alt="صورة المستخدم"
            class="wd-profile-floating-avatar"
          />
          <div class="wd-profile-floating-info">
            <span class="wd-profile-floating-name">اسم المستخدم</span>
            <span class="wd-profile-floating-email">user@example.com</span>
          </div>
        </div>
        <div class="wd-profile-floating-status">
          <span class="wd-profile-floating-status-title">تعيين نفسك ك:</span>
          <div class="wd-profile-floating-status-options">
            <button
              class="wd-profile-floating-status-option active"
              data-status="available"
            >
              <i class="fas fa-circle"></i>
              <span>متصل</span>
            </button>
            <button
              class="wd-profile-floating-status-option"
              data-status="busy"
            >
              <i class="fas fa-circle"></i>
              <span>مشغول</span>
            </button>
            <button
              class="wd-profile-floating-status-option"
              data-status="offline"
            >
              <i class="fas fa-circle"></i>
              <span>غير متصل</span>
            </button>
          </div>
        </div>
        <div class="wd-profile-floating-actions">
          <a href="#" class="wd-profile-floating-action">
            <i class="fas fa-user-cog"></i>
            <span>إعدادات الحساب</span>
          </a>
          <a href="#" class="wd-profile-floating-action">
            <i class="fas fa-palette"></i>
            <span>تغيير المظهر</span>
          </a>
          <a href="#" class="wd-profile-floating-action">
            <i class="fas fa-sign-out-alt"></i>
            <span>تسجيل الخروج</span>
          </a>
        </div>
      </div>
    </div>

    <script src="script.js"></script>
    <script>
      // متغيرات عامة
      let currentFilters = [];
      let currentSearch = null;
      let allContacts = [];
      let searchTimeout = null;

      // تهيئة البيانات عند تحميل الصفحة
      document.addEventListener("DOMContentLoaded", function () {
        loadContacts();
        initializeSearch();
      });

      // تحميل بيانات جهات الاتصال
      function loadContacts() {
        const tableRows = document.querySelectorAll(
          ".wd-table-body .wd-table-row"
        );
        allContacts = Array.from(tableRows).map((row) => {
          const cells = row.querySelectorAll(".wd-table-cell");
          return {
            element: row,
            name: cells[1].querySelector("span").textContent.trim(),
            phone: cells[2].textContent.trim(),
            email: cells[3].textContent.trim(),
            group: cells[4].querySelector(".wd-tag").textContent.trim(),
            status: cells[5].querySelector(".wd-status").textContent.trim(),
          };
        });
      }

      // تهيئة البحث المباشر
      function initializeSearch() {
        const searchInput = document.getElementById("searchInput");
        const clearBtn = document.getElementById("clearSearchBtn");

        searchInput.addEventListener("input", function () {
          const value = this.value.trim();
          if (value) {
            clearBtn.style.display = "block";
          } else {
            clearBtn.style.display = "none";
          }
        });
      }

      // البحث المباشر
      function performSearch() {
        clearTimeout(searchTimeout);
        searchTimeout = setTimeout(() => {
          const keywords = document.getElementById("searchInput").value.trim();

          if (keywords) {
            currentSearch = {
              keywords: keywords.toLowerCase(),
              searchName: true,
              searchPhone: true,
              searchEmail: true,
            };
          } else {
            currentSearch = null;
          }

          filterContacts();
          updateFilterStatus();
        }, 300); // تأخير 300ms لتحسين الأداء
      }

      // فتح نافذة الفلترة
      function openFilterModal() {
        document.getElementById("filterModal").style.display = "flex";
      }

      // إغلاق نافذة الفلترة
      function closeFilterModal() {
        document.getElementById("filterModal").style.display = "none";
      }

      // مسح البحث
      function clearSearch() {
        document.getElementById("searchInput").value = "";
        document.getElementById("clearSearchBtn").style.display = "none";
        currentSearch = null;
        filterContacts();
        updateFilterStatus();
      }

      // إضافة قاعدة فلترة جديدة
      function addFilterRule() {
        const rulesContainer = document.getElementById("filterRules");
        const ruleContainers = rulesContainer.querySelectorAll(
          ".wd-filter-rule-container"
        );

        // إضافة فاصل منطق الربط إذا كان هناك قواعد موجودة
        if (ruleContainers.length > 0) {
          const logicSeparator = document.createElement("div");
          logicSeparator.className = "wd-logic-separator";
          logicSeparator.innerHTML = `
            <div class="wd-logic-options">
              <label class="wd-logic-option">
                <input type="radio" name="filterLogic_${ruleContainers.length}" value="and" checked />
                <span class="wd-logic-label">AND</span>
                <span class="wd-logic-desc">و</span>
              </label>
              <label class="wd-logic-option">
                <input type="radio" name="filterLogic_${ruleContainers.length}" value="or" />
                <span class="wd-logic-label">OR</span>
                <span class="wd-logic-desc">أو</span>
              </label>
            </div>
          `;
          rulesContainer.appendChild(logicSeparator);
        }

        // إضافة القاعدة الجديدة
        const newRuleContainer = document.createElement("div");
        newRuleContainer.className = "wd-filter-rule-container";
        newRuleContainer.innerHTML = `
          <div class="wd-filter-rule">
            <div class="wd-filter-field">
              <label>الحقل</label>
              <select>
                <option value="name">الاسم</option>
                <option value="phone">رقم الهاتف</option>
                <option value="email">البريد الإلكتروني</option>
                <option value="group">المجموعة</option>
                <option value="status">حالة الاشتراك</option>
              </select>
            </div>
            <div class="wd-filter-operator">
              <label>المشغل</label>
              <select>
                <option value="equals">يساوي</option>
                <option value="not_equals">لا يساوي</option>
                <option value="contains">يحتوي على</option>
                <option value="not_contains">لا يحتوي على</option>
                <option value="starts_with">يبدأ بـ</option>
                <option value="ends_with">ينتهي بـ</option>
              </select>
            </div>
            <div class="wd-filter-value">
              <label>القيمة</label>
              <input type="text" placeholder="أدخل القيمة..." />
            </div>
            <div class="wd-filter-actions">
              <button class="wd-btn-icon" onclick="removeFilterRule(this)" title="حذف القاعدة">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        `;
        rulesContainer.appendChild(newRuleContainer);
      }

      // حذف قاعدة فلترة
      function removeFilterRule(button) {
        const rulesContainer = document.getElementById("filterRules");
        const ruleContainer = button.closest(".wd-filter-rule-container");
        const ruleContainers = rulesContainer.querySelectorAll(
          ".wd-filter-rule-container"
        );

        if (ruleContainers.length > 1) {
          // العثور على الفاصل السابق أو التالي وحذفه
          const previousElement = ruleContainer.previousElementSibling;
          const nextElement = ruleContainer.nextElementSibling;

          // حذف القاعدة
          ruleContainer.remove();

          // حذف الفاصل المرتبط
          if (
            previousElement &&
            previousElement.classList.contains("wd-logic-separator")
          ) {
            previousElement.remove();
          } else if (
            nextElement &&
            nextElement.classList.contains("wd-logic-separator")
          ) {
            nextElement.remove();
          }
        } else {
          alert("يجب أن تبقى قاعدة واحدة على الأقل");
        }
      }

      // تطبيق الفلتر
      function applyFilter() {
        const rules = document.querySelectorAll(".wd-filter-rule");
        const logicSeparators = document.querySelectorAll(
          ".wd-logic-separator"
        );

        currentFilters = [];
        let logicOperators = [];

        // جمع العوامل المنطقية
        logicSeparators.forEach((separator) => {
          const checkedInput = separator.querySelector(
            'input[type="radio"]:checked'
          );
          if (checkedInput) {
            logicOperators.push(checkedInput.value);
          }
        });

        // جمع القواعد
        Array.from(rules).forEach((rule, index) => {
          const field = rule.querySelector(".wd-filter-field select").value;
          const operator = rule.querySelector(
            ".wd-filter-operator select"
          ).value;
          const value = rule
            .querySelector(".wd-filter-value input")
            .value.trim();

          if (!value) {
            throw new Error("يرجى إدخال قيمة لجميع القواعد");
          }

          const logic = index > 0 ? logicOperators[index - 1] : "and";
          currentFilters.push({
            field,
            operator,
            value: value.toLowerCase(),
            logic,
          });
        });

        try {
          filterContacts();
          closeFilterModal();
          updateFilterStatus();
        } catch (error) {
          alert(error.message);
        }
      }

      // مسح الفلتر
      function clearFilter() {
        currentFilters = [];
        filterContacts();
        closeFilterModal();
        updateFilterStatus();
      }

      // مسح جميع الفلاتر والبحث
      function clearAllFilters() {
        currentFilters = [];
        currentSearch = null;
        document.getElementById("searchInput").value = "";
        document.getElementById("clearSearchBtn").style.display = "none";
        filterContacts();
        updateFilterStatus();
      }

      // تطبيق الفلترة والبحث
      function filterContacts() {
        let filteredContacts = [...allContacts];

        // تطبيق البحث
        if (currentSearch) {
          filteredContacts = filteredContacts.filter((contact) => {
            const keywords = currentSearch.keywords;
            let match = false;

            if (
              currentSearch.searchName &&
              contact.name.toLowerCase().includes(keywords)
            ) {
              match = true;
            }
            if (
              currentSearch.searchPhone &&
              contact.phone.toLowerCase().includes(keywords)
            ) {
              match = true;
            }
            if (
              currentSearch.searchEmail &&
              contact.email.toLowerCase().includes(keywords)
            ) {
              match = true;
            }

            return match;
          });
        }

        // تطبيق الفلاتر
        if (currentFilters.length > 0) {
          filteredContacts = filteredContacts.filter((contact) => {
            let finalResult = true;

            currentFilters.forEach((filter, index) => {
              const fieldValue = contact[filter.field].toLowerCase();
              const filterValue = filter.value;
              let result = false;

              switch (filter.operator) {
                case "equals":
                  result = fieldValue === filterValue;
                  break;
                case "not_equals":
                  result = fieldValue !== filterValue;
                  break;
                case "contains":
                  result = fieldValue.includes(filterValue);
                  break;
                case "not_contains":
                  result = !fieldValue.includes(filterValue);
                  break;
                case "starts_with":
                  result = fieldValue.startsWith(filterValue);
                  break;
                case "ends_with":
                  result = fieldValue.endsWith(filterValue);
                  break;
              }

              // تطبيق المنطق بين القواعد
              if (index === 0) {
                finalResult = result;
              } else {
                if (filter.logic === "and") {
                  finalResult = finalResult && result;
                } else {
                  finalResult = finalResult || result;
                }
              }
            });

            return finalResult;
          });
        }

        // إخفاء/إظهار الصفوف
        allContacts.forEach((contact) => {
          const isVisible = filteredContacts.includes(contact);
          contact.element.style.display = isVisible ? "" : "none";
        });

        // تحديث النتائج
        updateResultsCount(filteredContacts.length);
      }

      // تحديث حالة الفلتر
      function updateFilterStatus() {
        const statusDiv = document.getElementById("filterStatus");
        const hasActiveFilters = currentFilters.length > 0 || currentSearch;

        if (hasActiveFilters) {
          statusDiv.style.display = "block";
        } else {
          statusDiv.style.display = "none";
        }
      }

      // تحديث عدد النتائج
      function updateResultsCount(count) {
        const statusText = document.getElementById("filterResultsText");
        if (currentFilters.length > 0 || currentSearch) {
          statusText.textContent = `عرض ${count} من ${allContacts.length} نتيجة`;
        } else {
          statusText.textContent = `عرض جميع النتائج (${allContacts.length})`;
        }
      }

      // إغلاق النوافذ المنبثقة عند النقر خارجها
      window.addEventListener("click", function (event) {
        const filterModal = document.getElementById("filterModal");

        if (event.target === filterModal) {
          closeFilterModal();
        }
      });
    </script>
  </body>
</html>
